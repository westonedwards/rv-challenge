$(document).ready(()=>{const e=$("#dealer-count"),a=$("#dealer-zipcode"),n=$("#filtered-data");let t=["Residential Pro","Commercial Pro","Service Pro","Installation Pro"];$(".filter").find("input:checkbox").each(function(){let e=$(this),a=$(this).data("id");e.change(function(){let e=t.indexOf(a);$(this).is(":checked")?-1===e&&t.push(a):t.length>1?e>-1&&t.splice(e,1):t=[],s(t)})});const s=e=>{$.get("http://www.wes2k.com:8081/dealerData",(t,s)=>{t&&(a.html(t.zipcode),n.html(i(o(t.dealers,e))))})},o=(e,a)=>e.filter(e=>e.data.certifications.find(e=>a.includes(e))),i=a=>(e.html(a.length),a.map((e,a)=>`<div class="dealer-box">\n                    <div class="dealer-padded-content">\n                        <div class="dealer-header"><h1>${e.data.name}</h1></div>\n                        <div class="vertical-line-separator"></div>\n                        <div class="dealer-details">\n                            <div class="phone-container">\n                                <div><span class="phone-icon-img"></span></div>\n                                <div class="mobile-text">Tap to call</div>\n                                <div><h1>${e.data.phone1}</h1></div>\n                            </div>\n                            <div><em>Can't talk now? Click below to send an email.</em></div>\n                            <button class="myBtn"><span class="email-icon"></span>Contact this Pro</button>\n                            <div class="dealer-hours">\n                                <h3>Business Hours</h3>\n                                <p>Weekdays ${e.data.weekHours.mon}</p>\n                                <p>Saturdays ${e.data.weekHours.sat?e.data.weekHours.sat:" - Closed"}</p>\n                                <p>Sundays - ${e.data.weekHours.sun?e.data.weekHours.sun:"Closed"}</p>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="dealer-tags">\n                        ${e.data.certifications.map(e=>`<div class=${e.replace(/\s/g,"").toLowerCase()}><span></span>${e}</div>`).join("")}\n                    </div>\n                    \x3c!-- Modal --\x3e\n                    <div class="myModal modal">\n                        <div class="modal-content">\n                            <span class="close">&times;</span>\n                            <div class="modal-blue-header">\n                                <h3>EMAIL</h3>\n                                <h1>${e.data.name}</h1>\n                            </div>\n                            <div class="modal-contact-form">\n                                <p>Fill out the form below and ${e.data.name} will get in touch.</p>\n                                <form>\n                                    <label>First and last name<span class="form-image"></span></label>\n                                    <input type="text" placeholder="Jane Smith"/>\n                                    <label>Phone number<span class="form-image"></span></label>\n                                    <input class="phone" type="tel"/>\n                                    <label>Email address<span class="form-image"></span></label>\n                                    <input type="email"/>\n                                    <label>Comments or questions</label>\n                                    <textarea></textarea>\n                                    <label>Do you currently own a pool or spa?</label>\n                                    <button class="form-button form-button-active">Yes</button>\n                                    <button class="form-button">No</button>\n                                    <div class="contact-form-separator"></div>\n                                    <button class="form-submit-button">Send my email<span></span></button>\n                                </form>\n                            </div>\n                            <div class="modal-footer">\n                                <p>"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex.</p>\n                            </div>\n                        </div>\n                    </div>\n                    \x3c!-- Modal end --\x3e\n                </div>`).join(""));s(t)}),$(document).ready(()=>{$(".filter-results-arrow").on("click",function(){$(this).toggleClass("filter-border-bottom-none"),$(".filter-results").toggleClass("filter-border-bottom-none"),$(".input-items").slideToggle("fast")})}),$(document).ready(()=>{const e=$("#filtered-data");e.find(".myModal");e.on("click",".myBtn",function(){$(this).parent().parent().parent().find(".myModal").addClass("modal-show"),$("body").css("overflow","hidden"),$("body").css("position","fixed")}),e.on("click",".close",function(){$(this).parent().parent().removeClass("modal-show"),$("body").css("overflow","auto"),$("body").css("position","relative")}),e.on("click",".form-button",e=>{e.preventDefault(),$(".form-button").toggleClass("form-button-active")}),e.on("input","input",function(e){e.preventDefault(),""===$(this).val()?$(this).prev().find(".form-image").css("background-image","url(public/images/circle-form.png)"):$(this).prev().find(".form-image").css("background-image","url(public/images/checkmark-circle.png)")})}),$(document).ready(()=>{const e=$(".mobile-menu-image"),a=$(".nav-items");e.on("click",()=>{a.slideToggle()})});